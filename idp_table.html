<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IDP Table – Brain Imaging GWAS</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">

    <p><a href="index.html">← Back to Main Page</a></p>

    <h1>Table of IDPs (805 Imaging-Derived Phenotypes)</h1>

    <div class="info-box">
        <strong>Column guide:</strong><br>
        &bull; <strong>IDP ID</strong>: Unique identifier (links to Manhattan plots for each group)<br>
        &bull; <strong>Modality</strong>: sMRI (structural MRI) or dMRI (diffusion MRI)<br>
        &bull; <strong>N (Combined / Male / Female)</strong>: Actual sample sizes<br>
        &bull; <strong><em>h</em><sup>2</sup> &plusmn; SE
            <span class="group-tag group-tag-combined"
                  style="font-size:0.78em; padding:1px 7px;">Combined</span>
        </strong>: SNP heritability from sex-combined analysis<br>
        &bull; <strong><em>h</em><sup>2</sup> &plusmn; SE
            <span class="group-tag group-tag-male"
                  style="font-size:0.78em; padding:1px 7px;">Male</span>
        </strong>: SNP heritability from male-only analysis<br>
        &bull; <strong><em>h</em><sup>2</sup> &plusmn; SE
            <span class="group-tag group-tag-female"
                  style="font-size:0.78em; padding:1px 7px;">Female</span>
        </strong>: SNP heritability from female-only analysis
    </div>

    <!-- 搜索和筛选 -->
    <div class="search-bar">
        <input type="text" id="searchInput"
               placeholder="Search IDP name or description..."
               oninput="filterTable()">
        <select id="categoryFilter" onchange="filterTable()">
            <option value="all">All Modalities</option>
            <option value="sMRI">sMRI only</option>
            <option value="dMRI">dMRI only</option>
        </select>
        <span id="resultCount">Showing 805 IDPs</span>
    </div>

    <!-- IDP 主表格 -->
    <table class="idp-table" id="idpTable">
        <thead>
            <tr>
                <th>IDP ID</th>
                <th>IDP Name</th>
                <th>Modality</th>
                <th>Category</th>
                <th>Description</th>
                <th>N<br>(Combined)</th>
                <th>N<br>(Male)</th>
                <th>N<br>(Female)</th>
                <th>
                    <em>h</em><sup>2</sup> &plusmn; SE<br>
                    <span class="group-tag group-tag-combined"
                          style="font-size:0.75em; padding:1px 6px; margin-top:3px;">
                        Combined
                    </span>
                </th>
                <th>
                    <em>h</em><sup>2</sup> &plusmn; SE<br>
                    <span class="group-tag group-tag-male"
                          style="font-size:0.75em; padding:1px 6px; margin-top:3px;">
                        Male
                    </span>
                </th>
                <th>
                    <em>h</em><sup>2</sup> &plusmn; SE<br>
                    <span class="group-tag group-tag-female"
                          style="font-size:0.75em; padding:1px 6px; margin-top:3px;">
                        Female
                    </span>
                </th>
                <th>Manhattan Plots</th>
            </tr>
        </thead>
        <tbody id="idpTableBody">

            <!-- 示例行，用 generate_table.py 生成完整805行替换此处 -->
            <tr data-modality="sMRI">
                <td>0001</td>
                <td>Left Hippocampus Volume</td>
                <td><span class="tag-smri">sMRI</span></td>
                <td>Subcortical Volume</td>
                <td>Volume of the left hippocampus (mm&sup3;)</td>
                <td>45,882</td>
                <td>22,941</td>
                <td>22,941</td>
                <td class="h2-combined">0.32 &plusmn; 0.03</td>
                <td class="h2-male">0.29 &plusmn; 0.04</td>
                <td class="h2-female">0.35 &plusmn; 0.04</td>
                <td>
                    <a class="link-combined"
                       href="YOUR_OSF_LINK/plots/combined/combined_0001.png"
                       target="_blank">Combined</a>
                    &nbsp;|&nbsp;
                    <a class="link-male"
                       href="YOUR_OSF_LINK/plots/male/male_0001.png"
                       target="_blank">Male</a>
                    &nbsp;|&nbsp;
                    <a class="link-female"
                       href="YOUR_OSF_LINK/plots/female/female_0001.png"
                       target="_blank">Female</a>
                </td>
            </tr>

        </tbody>
    </table>

</div>

<script>
function filterTable() {
    const searchText = document.getElementById('searchInput').value.toLowerCase();
    const category   = document.getElementById('categoryFilter').value;
    const rows       = document.querySelectorAll('#idpTableBody tr');
    let visible = 0;

    rows.forEach(row => {
        const text     = row.textContent.toLowerCase();
        const modality = row.getAttribute('data-modality');

        const matchSearch   = text.includes(searchText);
        const matchCategory = (category === 'all') || (modality === category);

        if (matchSearch && matchCategory) {
            row.style.display = '';
            visible++;
        } else {
            row.style.display = 'none';
        }
    });

    document.getElementById('resultCount').textContent =
        `Showing ${visible} of 805 IDPs`;
}
</script>

</body>
</html>
